<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>Drum Kit</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css?family=Arvo" rel="stylesheet">
</head>

<body>
  <h1 id="title">Drum ü•Å Kit</h1>
  <div class="set">
    <button class="w drum">w</button>
    <button class="a drum">a</button>
    <button class="s drum">s</button>
    <button class="d drum">d</button>
    <button class="j drum">j</button>
    <button class="k drum">k</button>
    <button class="l drum">l</button>
  </div>


  <script type="text/javascript">

    var keys = ["w","a","s","d","j","k","l"];

    var buttonArray = document.querySelectorAll(".drum");

    for (i = 0; i < buttonArray.length; i++) {

       buttonArray[i].addEventListener("click", function() {
      var key = this.innerHTML;
       makeSound(key);
       animate(key);


      })
    }

    // document.addEventListener('keypress', function(data) {
    //     console.log(data);
    // });

    document.addEventListener("keypress", function(event) {

      console.log(event);

      if  (keys.includes(event.key) ) {

              makeSound(event.key);
              animate(event.key)
      }


    });

    function makeSound(key) {

      switch (key) {
        case "w":
          var tom1 = new Audio('tom-1.mp3');
          tom1.play();
          break;
        case "a":
          var tom2 = new Audio('tom-2.mp3');
          tom2.play();
          break;
        case "s":
          var tom3 = new Audio('tom-3.mp3');
          tom3.play();
          break;
        case "d":
          var tom4 = new Audio('tom-4.mp3');
          tom4.play();
          break;
        case "j":
          var snare = new Audio('snare.mp3');
          snare.play();
          break;
        case "k":
        var crash = new Audio('crash.mp3');
        crash.play();
          break;
        case "l":

          var kick = new Audio('kick-bass.mp3');
          kick.play();
          break;

        default: console.log("unexpected value: " + key);
      }

    }



    function animate(key) {

        var currentKey = document.querySelector("." + key);
        currentKey.classList.add("pressed");
        setTimeout(function() {
          currentKey.classList.remove("pressed");
        }, 100);
      }

  </script>

</body>
<footer>
  Qi Gao
</footer>

</html>
